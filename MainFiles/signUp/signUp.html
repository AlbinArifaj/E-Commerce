<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Sign Up Form</title>
    <link rel="stylesheet" href="/MainFiles/signUp/signUp.css">

    <link rel="stylesheet" href="/MainFiles/">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,400;1,100&display=swap" rel="stylesheet">

    <style>
        * {
            font-family: 'Montserrat', sans-serif;
        }

        body {
            background: url('/MainFiles/signUp/background-for-sign-up.png') repeat;
            background-size: cover;
            background-attachment: fixed;
            background: linear-gradient(45deg, #e9f6ff, #e9f6ff);
            background-position: center center;
        }

        .customF {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
        }

        /* Added style for password strength indicator */
        #passwordStrength {
            color: #4caf50;
            font-weight: bold;
        }
    </style>
    <script>
        // password strength check
        document.getElementById('password').addEventListener('input', function () {
            var password = this.value;
            var strength = 'Weak';
            var color = 'red';

            if (password.length >= 8) {
                strength = 'Medium';
                color = 'orange';
            }

            if (password.length >= 12) {
                strength = 'Strong';
                color = 'green';
            }

            document.getElementById('passwordStrength').textContent = 'Password Strength: ' + strength;
            document.getElementById('passwordStrength').style.color = color;

            // Show warning for weak passwords
            var warning = document.getElementById('passwordError');
            warning.textContent = '';
            if (password.length > 0 && password.length < 8) {
                warning.textContent = 'Password is too weak.';
            }
        });
    </script>
</head>

<body>

    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">

                <form class="customF" onsubmit="return validateForm()">
                    <h2 class="mb-4 text-left">Sign Up</h2>

                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" class="form-control" id="fullName" placeholder="Enter your full name" required>
                    </div>

                    <div class="form-group">
                        <label>Gender</label><br>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="male" value="male" required>
                            <label class="form-check-label" for="male">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="female" value="female" required>
                            <label class="form-check-label" for="female">Female</label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email address</label>
                        <input type="email" class="form-control" id="email" placeholder="Enter your email" required value="example@mail.com" list="emailOptions">
                        <datalist id="emailOptions">
                            <option value="example@mail.com">
                            <option value="example@gmail.com">
                            <option value="example@hotmail.com">
                            <option value="example@yahoo.com">
                        </datalist>
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control" id="password" placeholder="Enter your password" required>
                        <!-- Output for psw strength-->
                        <output class="form-control" id="passwordStrength" name="passwordStrength"></output>
                        <small class="text-danger" id="passwordError"></small>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm your password" required>
                    </div>

                    <div class="form-group">
                        <label for="creditCard">Credit Card</label>
                        <input type="text" class="form-control" id="creditCard" placeholder="Enter your credit card number" required>
                    </div>

                    <div class="form-group">
                        <label for="expirationDate">Expiration Date</label>
                        <input type="text" class="form-control" id="expirationDate" placeholder="MM/YYYY" required>
                    </div>

                    <div class="form-group">
                        <label for="cvv">CVV</label>
                        <input type="text" class="form-control" id="cvv" placeholder="Enter CVV" required>
                    </div>

                    <div class="form-group">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="newsletter" value="subscribe" checked>
                            <label class="form-check-label" for="newsletter">Subscribe to newsletter</label>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">Sign Up</button>

                    <p class="mt-3">Already have an account? <a href="login.html" target="_blank">Go to Login</a></p>
                </form>

            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/MainFiles/signUp/passwordtrycatch.js"></script>
    <script>
    var users = JSON.parse(localStorage.getItem('users')) || []; // inicializimi i array
function User(fullName, gender, email, password, confirmPassword, creditCard, expirationDate, cvv, newsletter) {
    this.fullName = fullName;
    this.gender = gender;
    this.email = email;
    this.password = password;
    this.confirmPassword = confirmPassword;
    this.creditCard = creditCard;
    this.expirationDate = expirationDate;
    this.cvv = cvv;
    this.newsletter = newsletter;
}

function validateForm() {
    var fullName = document.getElementById('fullName').value;
    var gender = document.querySelector('input[name="gender"]:checked');
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
    var confirmPassword = document.getElementById('confirmPassword').value;
    var creditCard = document.getElementById('creditCard').value;
    var expirationDate = document.getElementById('expirationDate').value;
    var cvv = document.getElementById('cvv').value;
    var newsletter = document.getElementById('newsletter').checked;
    try {
        if (password !== confirmPassword) {
            throw "Passwords do not match";
        }

        // Objekti per user
        var user = {
            fullName: fullName,
            gender: gender,
            email: email,
            password: password,
            creditCard: creditCard,
            expirationDate: expirationDate,
            cvv: cvv,
            newsletter: newsletter
        };

        // Add user ne array
        users.push(user);
        console.log(users); // array ne console behet print

    } catch (error) {
        document.getElementById('passwordError').textContent = error;
        return false;
    }

    return true;
}
</script>

</body>

</html>
